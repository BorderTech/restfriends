cache:
  directories:
  - $HOME/.m2

addons:
  sonarcloud:
    organization: "bordertech-github"
    token:
      secure: "bn3v6Gq6V+eiIg5wChrVmeWOPVLoWck0qoMe9j+MkCdIAgckXvt3B1n3BTXu65ih8rw2I5taaw3uwg+Ob4BQjLwDwndw6os2TCaCs+yyH6a5uOQfLzGDNAWasrY2znKBtPZUBUV9mFcsFLea0pPnW9ga7KS9DPQcjDowJnLUThu/r3tXD8qxfQ1ZmDDzUqPvmcPxFD1BbyixJObKOHRAvXAp2COBsWftSKzJ33lujowG83RmAsK6ZFVKmANFVdNL3c4Xa6gTUREsIxXsvpdm3uti9qjdaPJiuDpJWOq+9nvJfgjHZyZhmW/U+RHtk+JM47/449Mimvk0a7RieDEunFSP/cSFE+lH57lwE0JRvwIAbxudZWs5CvzjmnKnzhMtJiKD70u4GN+bEtMr/0MJXw71UA/AAOqGfOTeqIMMVOrU+BECN30dybo6Ao3Heg/RhvnVOudycvnF1vdWJGOzv938d2iJuXw6q58YIggh7by4zo5W6NBpO4+GfjekoIuXxuwpzfDlLGnWaK9Ckl727HX7OwB5GXHB5V9VatPgkkmF9gtE4lzl1pGQoHodiKsJNzpeIY6JLSzY9nhQovh5sMnsWXVbtm0deDRS3SBPDPXWsT6iL5n3Qka4k4s9JEn7flm9RSnzZhjMNMhSn4YdUwiEOC7wSkFUyCSxjqPyi8M="
 
before_install:
- echo "MAVEN_OPTS='-Xmx512m -XX:MaxPermSize=128m'" > ~/.mavenrc
- mvn clean
- wget https://github.com/codacy/codacy-coverage-reporter/releases/download/4.0.5/codacy-coverage-reporter-4.0.5-assembly.jar

language: Java
jdk:
 - oraclejdk8

## Travis installs the project with the following maven command:- "mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V"
script:
 - mvn package sonar:sonar

## Send Coverage to Codacy
after_success:
  - java -jar codacy-coverage-reporter-4.0.5-assembly.jar report -l Java -r restfriends-envelope/target/site/jacoco/jacoco.xml
